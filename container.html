<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Using a DragonRadio Container &mdash; DragonRadio  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="DragonRadio in the Colosseum" href="colosseum.html" />
    <link rel="prev" title="Running the Radio" href="running.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> DragonRadio
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">About DragonRadio</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="building.html">Building the radio</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">Running the Radio</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using a DragonRadio Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="colosseum.html">DragonRadio in the Colosseum</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">DragonRadio Utilities</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="python.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="cpp.html">C++</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DragonRadio</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Using a DragonRadio Container</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/container.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="using-a-dragonradio-container">
<h1>Using a DragonRadio Container<a class="headerlink" href="#using-a-dragonradio-container" title="Permalink to this headline"></a></h1>
<p>Although it is possible to install DragonRadio on any machine running Ubuntu 20.04, using a container ensures a reproducible environment and prevents components that DragonRadio installs from conflicting with other software. In fact, DragonRadio is developed using isolated containers. Containers are also necessary to run two copies of DragonRadio on the same host machine.</p>
<p>There are several steps that can be taken to make developing with a container as seamless as possible.</p>
<ul>
<li><p>Expose a USRP to the container. One (or more) USRPs can be exposed to a container by adding the appropriate ethernet device. Assuming the USRP is attached to the <code class="docutils literal notranslate"><span class="pre">eno2</span></code> interface on the host machine, it can be exposed to the container named <code class="docutils literal notranslate"><span class="pre">dragonradio</span></code> as follows:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lxc config device add dragonradio usrp nic <span class="nv">nictype</span><span class="o">=</span>physical <span class="nv">parent</span><span class="o">=</span>eno2 <span class="nv">name</span><span class="o">=</span>usrp
</pre></div>
</div>
</div></blockquote>
<p>After exposing a USRP, you will need to set up its network interface. The easiest way to do this is through editing the <code class="docutils literal notranslate"><span class="pre">/etc/rc.local</span></code> file, which is run on boot. The following <code class="docutils literal notranslate"><span class="pre">/etc/rc.local</span></code> will assign the host side the IP address 192.168.40.1 and set the MTU to 9000.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/sh -e</span>
ip addr add <span class="m">192</span>.168.40.1/30 dev usrp
ip link <span class="nb">set</span> usrp mtu <span class="m">9000</span>
</pre></div>
</div>
<p>This is the correct setup for a standard X310 configuration. Read the full documentation for the <a class="reference external" href="https://files.ettus.com/manual/page_usrp_x3x0.html#x3x0_setup_network">X3x0 network configuration</a> or the <a class="reference external" href="https://files.ettus.com/manual/page_usrp2.html#usrp2_network">N2x0 network configuration</a></p>
</div></blockquote>
</li>
</ul>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">/etc/rc.local</span></code>.</p>
</div></blockquote>
<ul>
<li><p>Expose a JTAG port.</p>
<p>Use <cite>lsusb`</cite> to find JTAG devices—they will be labeled “Future Technology Devices International.” A JTAG device found at bus 001 device 002 can be exposed to teh container named <code class="docutils literal notranslate"><span class="pre">dragonradio</span></code> be executing the following command on the host:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lxc config device add dragonradio bus001dev002 disk <span class="nv">source</span><span class="o">=</span>/dev/bus/usb/001/002 <span class="nv">path</span><span class="o">=</span>/dev/bus/usb/001/002
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Mirror your local user and home directory in the container. The script <code class="docutils literal notranslate"><span class="pre">lxd-mirror-user.sh</span></code>, located in the <code class="docutils literal notranslate"><span class="pre">bin</span></code> directory of the repository, will mirror the current user’s account and home directory in the container whose name is passed as the first argument to the script. The UID of the user being mirrored in the container must not already exist in the container</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lxc <span class="nb">exec</span> dragonradio -- su --login USERNAME
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Use GUI applications in the container. <code class="docutils literal notranslate"><span class="pre">lxd-X.sh</span></code></p></li>
</ul>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="running.html" class="btn btn-neutral float-left" title="Running the Radio" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="colosseum.html" class="btn btn-neutral float-right" title="DragonRadio in the Colosseum" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018-2021, Drexel University.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>